
============================================================
INICIANDO SHELTER AI API
============================================================
üì¶ Cargando modelo desde: /app/models/shelter_model.pkl
Thu Jan 15 11:30:15 2026 Building and compiling search function
‚ö†Ô∏è  Detectada incompatibilidad de versi√≥n: 'NNDescent' object has no attribute 'quantization'
üîß Aplicando workaround...
‚úÖ Parches de compatibilidad aplicados
‚ö†Ô∏è  Saltando inicializaci√≥n de b√∫squeda de NNDescent (incompatible)
‚ö†Ô∏è  Usando exemplars del clusterer para KNN
   ‚úì Exemplars type: <class 'list'>, shape: N/A
‚ö†Ô∏è  Error al extraer exemplars: setting an array element with a sequence. The requested array has an inhomogeneous shape after 1 dimensions. The detected shape was (54,) + inhomogeneous part.
   ‚ÑπÔ∏è  Continuando sin datos de entrenamiento para KNN
‚úÖ Modelo cargado exitosamente (versi√≥n 1.0)
   - 54 clusters
   - 555 features
‚úÖ Modelo de ML cargado exitosamente
Conexi√≥n a base de datos establecida
‚úÖ Esquema de BD verificado/creado
============================================================
API disponible en: http://0.0.0.0:8000
Documentaci√≥n: http://0.0.0.0:8000/docs
============================================================



=== STDERR ===
INFO:     Started server process [1]
INFO:     Waiting for application startup.
Traceback (most recent call last):
  File "/app/inference_api/predictor.py", line 120, in __init__
    exemplars = np.array(exemplars, dtype=np.float32)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: setting an array element with a sequence. The requested array has an inhomogeneous shape after 1 dimensions. The detected shape was (54,) + inhomogeneous part.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
